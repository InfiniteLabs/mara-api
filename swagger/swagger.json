{"swagger":"2.0","info":{"title":"An api to handle appointments","version":""},"host":"localhost:9000","schemes":["http"],"consumes":["application/json","application/xml","application/gob","application/x-gob"],"produces":["application/json","application/xml","application/gob","application/x-gob"],"paths":{"/appointments":{"get":{"tags":["calendar"],"summary":"list calendar","description":"show a list of appointments for the selected week\n\n** Required security scopes**:\n  * `api:access`","operationId":"calendar#list","responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/MaraAppointmentCollection"}}},"schemes":["http"]},"put":{"tags":["calendar"],"summary":"create calendar","description":"create a new appointment\n\n** Required security scopes**:\n  * `api:access`","operationId":"calendar#create","parameters":[{"name":"payload","in":"body","required":true,"schema":{"$ref":"#/definitions/CreateCalendarPayload"}}],"responses":{"201":{"description":"Created"},"400":{"description":"Bad Request"}},"schemes":["http"]}},"/appointments/{id}":{"get":{"tags":["calendar"],"summary":"show calendar","description":"show the details of a single appointment\n\n** Required security scopes**:\n  * `api:access`","operationId":"calendar#show","parameters":[{"name":"id","in":"path","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/MaraAppointment"}},"404":{"description":"Not Found"}},"schemes":["http"]},"post":{"tags":["calendar"],"summary":"edit calendar","description":"change properties of a single appointment\n\n** Required security scopes**:\n  * `api:access`","operationId":"calendar#edit","parameters":[{"name":"id","in":"path","required":true,"type":"string"},{"name":"payload","in":"body","required":true,"schema":{"$ref":"#/definitions/EditCalendarPayload"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/MaraAppointment"}},"400":{"description":"Bad Request"}},"schemes":["http"]},"delete":{"tags":["calendar"],"summary":"delete calendar","description":"deletes a single appointment\n\n** Required security scopes**:\n  * `api:access`","operationId":"calendar#delete","parameters":[{"name":"id","in":"path","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/MaraAppointment"}},"400":{"description":"Bad Request"}},"schemes":["http"]}},"/auth/login":{"post":{"tags":["auth"],"summary":"login auth","description":"Login with username and password and obtain a token","operationId":"auth#login","parameters":[{"name":"payload","in":"body","required":true,"schema":{"$ref":"#/definitions/LoginAuthPayload"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/MaraToken"}},"400":{"description":"Bad Request"}},"schemes":["http"]}},"/auth/reset":{"post":{"tags":["auth"],"summary":"reset auth","description":"Send a new password to the email specified","operationId":"auth#reset","parameters":[{"name":"payload","in":"body","required":true,"schema":{"$ref":"#/definitions/ResetAuthPayload"}}],"responses":{"200":{"description":"OK"},"400":{"description":"Bad Request"}},"schemes":["http"]}}},"definitions":{"CreateCalendarPayload":{"title":"CreateCalendarPayload","type":"object","properties":{"email":{"type":"string","description":"The email of who's requesting it","example":"user@example.com","format":"email"},"notes":{"type":"string","description":"Internal notes about the Appointment"},"phone":{"type":"string","description":"The phone of the client","example":"3347662313"},"problematic":{"type":"boolean","description":"Option specifying that the work is problematic for some reason","default":false},"send_email":{"type":"boolean","description":"Option to send email to the client","default":false},"send_sms":{"type":"boolean","description":"Option to send sms to the client","default":false},"status":{"type":"string","description":"The status of the work. Can be one of todo/doing/done","example":"todo","pattern":"todo|doing|done"},"urgent":{"type":"boolean","description":"Option specifying that the work is to be done now","default":false},"what":{"type":"string","description":"What is the purpose of the appointment","example":"Convergenza"},"when":{"type":"string","description":"When is the appointment scheduled","format":"date-time"},"where":{"type":"string","description":"Where is the appointment scheduled","example":"Budrio"},"who":{"type":"string","description":"Who is requesting the appointment","example":"Pippo Pippis"}},"required":["who","what","when","where"]},"EditCalendarPayload":{"title":"EditCalendarPayload","type":"object","properties":{"email":{"type":"string","description":"The email of who's requesting it","example":"user@example.com","format":"email"},"notes":{"type":"string","description":"Internal notes about the Appointment"},"phone":{"type":"string","description":"The phone of the client","example":"3347662313"},"problematic":{"type":"boolean","description":"Option specifying that the work is problematic for some reason","default":false},"send_email":{"type":"boolean","description":"Option to send email to the client","default":false},"send_sms":{"type":"boolean","description":"Option to send sms to the client","default":false},"status":{"type":"string","description":"The status of the work. Can be one of todo/doing/done","example":"todo","pattern":"todo|doing|done"},"urgent":{"type":"boolean","description":"Option specifying that the work is to be done now","default":false},"what":{"type":"string","description":"What is the purpose of the appointment","example":"Convergenza"},"when":{"type":"string","description":"When is the appointment scheduled","format":"date-time"},"where":{"type":"string","description":"Where is the appointment scheduled","example":"Budrio"},"who":{"type":"string","description":"Who is requesting the appointment","example":"Pippo Pippis"}},"required":["who","what","when","where"]},"LoginAuthPayload":{"title":"LoginAuthPayload","type":"object","properties":{"password":{"type":"string","description":"The password","example":"password"},"user":{"type":"string","description":"The username","example":"user"}}},"MaraAppointment":{"title":"Mediatype identifier: application/vnd.mara.appointment","type":"object","properties":{"email":{"type":"string","description":"The email of who's requesting it","example":"user@example.com","format":"email"},"href":{"type":"string","description":"The url of the appointment","example":"Eligendi natus."},"id":{"type":"string","description":"The id of the appointment","example":"41641ce1-342c-49f4-a24d-ee9cbb67bdf6","format":"uuid"},"notes":{"type":"string","description":"Internal notes about the Appointment","example":"Dicta consectetur illo mollitia qui qui pariatur."},"phone":{"type":"string","description":"The phone of the client","example":"3347662313"},"problematic":{"type":"boolean","description":"Option specifying that the work is problematic for some reason","default":false,"example":true},"send_email":{"type":"boolean","description":"Option to send email to the client","default":false,"example":false},"send_sms":{"type":"boolean","description":"Option to send sms to the client","default":false,"example":false},"status":{"type":"string","description":"The status of the work. Can be one of todo/doing/done","example":"todo","pattern":"todo|doing|done"},"urgent":{"type":"boolean","description":"Option specifying that the work is to be done now","default":false,"example":true},"what":{"type":"string","description":"What is the purpose of the appointment","example":"Convergenza"},"when":{"type":"string","description":"When is the appointment scheduled","example":"1986-05-01T09:10:31+02:00","format":"date-time"},"where":{"type":"string","description":"Where is the appointment scheduled","example":"Budrio"},"who":{"type":"string","description":"Who is requesting the appointment","example":"Pippo Pippis"}},"description":"MaraAppointment media type (default view)","example":{"email":"user@example.com","href":"Eligendi natus.","id":"41641ce1-342c-49f4-a24d-ee9cbb67bdf6","notes":"Dicta consectetur illo mollitia qui qui pariatur.","phone":"3347662313","problematic":true,"send_email":false,"send_sms":false,"status":"todo","urgent":true,"what":"Convergenza","when":"1986-05-01T09:10:31+02:00","where":"Budrio","who":"Pippo Pippis"}},"MaraAppointmentCollection":{"title":"Mediatype identifier: application/vnd.mara.appointment; type=collection","type":"array","items":{"$ref":"#/definitions/MaraAppointment"},"description":"MaraAppointmentCollection is the media type for an array of MaraAppointment (default view)","example":[{"email":"user@example.com","href":"Eligendi natus.","id":"41641ce1-342c-49f4-a24d-ee9cbb67bdf6","notes":"Dicta consectetur illo mollitia qui qui pariatur.","phone":"3347662313","problematic":true,"send_email":false,"send_sms":false,"status":"todo","urgent":true,"what":"Convergenza","when":"1986-05-01T09:10:31+02:00","where":"Budrio","who":"Pippo Pippis"},{"email":"user@example.com","href":"Eligendi natus.","id":"41641ce1-342c-49f4-a24d-ee9cbb67bdf6","notes":"Dicta consectetur illo mollitia qui qui pariatur.","phone":"3347662313","problematic":true,"send_email":false,"send_sms":false,"status":"todo","urgent":true,"what":"Convergenza","when":"1986-05-01T09:10:31+02:00","where":"Budrio","who":"Pippo Pippis"}]},"MaraToken":{"title":"Mediatype identifier: application/vnd.mara.token","type":"object","properties":{"token":{"type":"string","description":"The token to use in subsequent api calls","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ"}},"description":"MaraToken media type (default view)","example":{"token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ"}},"ResetAuthPayload":{"title":"ResetAuthPayload","type":"object","properties":{"email":{"type":"string","description":"The email that will receive the new password","example":"user@example.com","format":"email"}}}},"responses":{"BadRequest":{"description":"Bad Request"},"Created":{"description":"Created"},"NotFound":{"description":"Not Found"},"OK":{"description":"OK"}},"securityDefinitions":{"jwt":{"type":"apiKey","description":"\n\n**Security Scopes**:\n  * `api:access`: API access","name":"Authorization","in":"header"}}}